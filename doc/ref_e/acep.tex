% ----------------------------------------------------------------
%       Speech Signal Processing Toolkit (SPTK): version 3.0
%                      SPTK Working Group
% 
%                Department of Computer Science
%                Nagoya Institute of Technology
%                             and
%   Interdisciplinary Graduate School of Science and Engineering
%                Tokyo Institute of Technology
%                   Copyright (c) 1984-2000
%                     All Rights Reserved.
% 
% Permission is hereby granted, free of charge, to use and
% distribute this software and its documentation without
% restriction, including without limitation the rights to use,
% copy, modify, merge, publish, distribute, sublicense, and/or
% sell copies of this work, and to permit persons to whom this
% work is furnished to do so, subject to the following conditions:
% 
%   1. The code must retain the above copyright notice, this list
%      of conditions and the following disclaimer.
% 
%   2. Any modifications must be clearly marked as such.
%                                                                        
% NAGOYA INSTITUTE OF TECHNOLOGY, TOKYO INSITITUTE OF TECHNOLOGY,
% SPTK WORKING GROUP, AND THE CONTRIBUTORS TO THIS WORK DISCLAIM
% ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING ALL
% IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT
% SHALL NAGOYA INSTITUTE OF TECHNOLOGY, TOKYO INSITITUTE OF
% TECHNOLOGY, SPTK WORKING GROUP, NOR THE CONTRIBUTORS BE LIABLE
% FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY
% DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
% WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS
% ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
% PERFORMANCE OF THIS SOFTWARE.
% ----------------------------------------------------------------
%
\hypertarget{acep}{}
\name[ref:acep-IEICE,ref:acep-IEEESP]{acep}{adaptive cepstral analysis}%
{speech analysis}
\begin{synopsis}
 \item [acep] [ --m $M$ ] [ --l $L$ ] [ --t $T$ ] [ --k $K$ ]
	      [ --p $P$ ] [ --s ] [ --e $E$ ] [ --P $Pa$ ]
\item [\ ~~~~~~~] [ {\em pefile} ] $<$ {\em infile}
\end{synopsis}

\begin{qsection}{DESCRIPTION}
	{\em acep} uses adaptive cepstral analysis
	\cite{ref:acep-IEICE}, \cite{ref:acep-IEEESP},
	to calculate cepstral coefficients from 
	unframed float data from standard input,
	sending the result to standard output.  
	If {\em pefile} is given,
	{\em acep} writes the prediction error is written to that file.

	The format for input and output data is float.

	The algorithm to calculate recursively the
        adaptive cepstral coefficients is 
 %
\begin{align}
  \bc^{(n+1)} &= \bc^{(n)} - \mu^{(n)} \hat{\nabla} \varepsilon_{\tau}^{(n)} \notag \\
  \hat{\nabla} \varepsilon_{0}^{(n)} &= -2 e(n) \be^{(n)} \qquad ( \tau = 0 ) \notag \\
  \hat{\nabla} \varepsilon_{\tau}^{(n)} &= -2 (1 - \tau) \sum_{i=-\infty}^{n}
  \tau^{n-i} e(i) \be^{(i)} \qquad ( 0 \le \tau < 1 ) \notag \\
  \hat{\nabla} \varepsilon_{\tau}^{(n)} &= \tau \hat{\nabla}
  \varepsilon_{\tau}^{(n-1)} - 2 (1 - \tau) e(n) \be^{(n)} \notag \\
  \mu^{(n)} &= \frac{k}{M \varepsilon^{(n)}} \notag \\
  \varepsilon^{(n)} &= \lambda \varepsilon^{(n-1)}
     + (1-\lambda)e^2(n) \notag
\end{align}	
	where 
	$\bc=[c(1),\ldots,c(M)]'$,
	$\be^{(n)}=[e(n-1),\ldots,e(n-M)]'$.
	Also, the gain is expressed by $c(0)$ as follows: 
%
 \begin{displaymath}
	  c(0) = \frac{1}{2} \log \varepsilon^{(n)}
 \end{displaymath}
	In Figure \ref{fig:acep_block}, the system for adaptive cepstral
        analysis is shown.
\setcounter{figure}{0}
 \begin{figure}[h]
	\setlength{\unitlength}{.5mm}
  \begin{center}
   \begin{picture}(100,50)(0,0)
	\put(12,39){LMA filter}
	\put(-17,30){$x(n)$}
	\put(100,30){$e(n)$}
	\thicklines
	\put(0,25){\line(1,0){20}}
	\put(20,15){\framebox(55,20){
%		\( 1/D(z) = \exp \displaystyle\sum_{m=1}^{M} -c(m)\,z^{-m}\)
		$1/D(z)$}}
	\put(75,25){\vector(1,0){25}}
	\put(85,25){\circle*{1.5}}
	\put(85,25){\line(0,-1){20}}
	\put(85,5){\line(-1,0){47.5}}
	\put(37.5,5){\line(1,2){5}}
	\put(52.5,35){\vector(1,2){5}}
   \end{picture}
  \end{center}
	\caption{Adaptive cepstral analysis system}
	\label{fig:acep_block}
 \end{figure}
\end{qsection}
%
%\newpage

\begin{options}
	\argm{m}{M}{order of cepstrum}{25}
	\argm{l}{L}{leakage factor $\lambda$}{0.98}
	\argm{t}{T}{momentum constant $\tau$}{0.9}
	\argm{k}{K}{step size $k$}{0.1}
	\argm{p}{P}{output period of cepstrum}{1}
	\argm{s}{}{output smoothed cepstrum}{FALSE}
	\argm{e}{E}{minimum value for $\varepsilon^{(n)}$}{0.0}
	\argm{P}{Pa}{number of coefficients of the LMA filter
                     using the Pad\'e approximation. $Pa$ can be 4 or 5.}{4}
\end{options}

\begin{qsection}{EXAMPLE}
	In this example, the speech data is in the file {\em data.f}
        in float format, and the cepstral coefficients are written in
        the file {\em data.acep} for every block of 100 samples,
        and the prediction error can be found in {\em data.er}.
 \begin{quote}
	\verb!acep -m 15 -p 100 data.er < data.f > data.acep!
 \end{quote} 
\end{qsection}

\begin{qsection}{SEE ALSO}
\hyperlink{uels}{uels}, 
\hyperlink{gcep}{gcep}, 
\hyperlink{mcep}{mcep}, 
\hyperlink{mgcep}{mgcep},
\hyperlink{amcep}{amcep},
\hyperlink{agcep}{agcep},
\hyperlink{lmadf}{lmadf}
\end{qsection}
