\name{fig}{plot a graph}{graph}

\begin{synopsis}
 \item[fig] [ --F $F$ ] [ --R $R$ ] [ --W $W$ ] [ --H $H$] [ --o $xo$ $yo$ ]
	    [ --g $G$ ]  [ --p $P$ ] 
 \item[\ ~~~] [ --s $S$ ] [ --f $file$ ] [ --t ] [ {\em infile} ]
\end{synopsis}

\begin{qsection}{DESCRIPTION}
This command draws a graph using information from the input file
{\em infile}. 
If {\em infile} is not assigned, data is read from the starndard input.
This command is similar to the unix command ``graph'' but includes
some labeling functions.
The output file comes with a sequence of commands for direct printing.
For this reason, in case the output is printed on the screen,
one should use the ``xgr'' command.
In case the output is printed in postscript, one should use the
``psgr'' command.
\end{qsection}

\begin{options}
	\argm{F}{F}{factor}{1}
	\argm{R}{R}{rotation angle}{0}
	\argm{W}{W}{width of figure($\times 100$mm)}{1}
	\argm{H}{H}{height of figure($\times 100$mm)}{1}
	\argm{o}{xo \; yo}{origin in mm}{20 20}
	\argm{g}{G}{draw grid($0 \sim 2$)\\
			\begin{tabular}{cccc}
			&\epsfxsize=2cm \epsffile{fig/g0.eps}
			&\epsfxsize=2cm \epsffile{fig/g1.eps}
			&\epsfxsize=2cm \epsffile{fig/g2.eps}\\
			$G$&0&1&2	 
			\end{tabular}\\\hspace*{\fill}}{2}
	\argm{p}{P}{pen number($1 \sim 10$)}{1}
	\argm{s}{S}{font size($1 \sim 4$)}{1}
	\argm{f}{file}{The file assigned after this option is read
                       before {\em infile}, that is, this option gives
                       preference.}{NULL}
	\argm{t}{}{transpose $x$ and $y$ axes}{FALSE}
\end{options}

\begin{qsection}{EXAMPLE}
Data in {\em data.fig} file is plotted in an X terminal in the
example below:
\vspace{-3mm}
\begin{quote}
 \verb!fig data.fig |xgr!
\end{quote}
\vspace{-3mm}
In this example, data in {\em data.fig} file is written in postscript,
and seen with ghostview:
\vspace{-3mm}
\begin{quote}
 \verb!fig data.fig | psgr | ghostview -!
\end{quote}
\vspace{-3mm}
\end{qsection}

\vspace{-1cm}
\begin{qsection}{USAGE}
　\vspace{-1cm}
\end{qsection}

\begin{qsection}{\ ~~~COMMAND}
The input data file can contain commands and data.
Commands can be used for labeling, scaling, etc.
Data is written in the ($x ~y$) coordinate pair form.
Command values can be overwritten by entering new command values.
\end{qsection}

\vspace{-1cm}
\begin{qsection}{\ ~~~COMMAND PART}
\begin{minipage}[t]{5.5cm}
x [mel $\alpha$]~ $xmin$ ~$ymax$ [$xa$]\\
y [mel $\alpha$]~ $xmin$ ~$ymax$ [$ya$]\\
\end{minipage}
\begin{minipage}[t]{9cm}
Assigns $x$ and $y$ scalings.\\
Marks can be assigned in $x$ and $y$ axes through $xa$ and $ya$.
If no assigned of $xa$ and $ya$ is done,
then $xa = xmin$ and $ya = ymin$.
If the optional ``mel $\alpha$'', where $\alpha$ must be
a number (for example, mel 0.35), is used,
then labeling is undertaken as frequancy transformation of
minimum phase first order all-pass filter.
\end{minipage} \\

\begin{minipage}[t]{5.5cm}
xscale ~$x_1$ $x_2$ $x_3$ $\cdots$\\
yscale ~$y_1$ $y_2$ $y_3$ $\cdots$
\end{minipage}
\begin{minipage}[t]{9cm}
Assigns the points $x_1, x_2,$\\$x_3,\cdots$
and $y_1,y_2,y_3,\cdots$ in $x$ and $y$ axes.
These points can be assigned with numbers or marks,
Also, when a mixture of not-a-number $+$ number (for example, '2,*3.14)
is needed, following function should be used:

\begin{tabular}{cl}
s & draws marks with half size.\\
$\backslash$& only writes number.\\
@ & does not write anything but assigns positions of marks.\\
none of the above & only marks are written.
\end{tabular}\\

Whenever character is inside quotes,
it appear in the position assigned
by the string that precedes it.
Please refer to the commands ``x/yname'' for information on
special characters.\\
(Example)\\
x ~0 ~5\\
xscale 0~1.0 ~s1.5 ~'2 ~$\backslash$2.5 ~'3.14 ~''$\backslash$pi'' ~@4 ~''x'' ~5\\

\epsfxsize=9cm
\epsffile{fig/scale.eps}
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
xname ~''$text$''\\
yname ~''$text$''\\
\end{minipage}
\begin{minipage}[t]{9cm}
Labels $x$ and $y$ axes.
$text$ should be inside quote.
Inside $text$, \TeX commands can be used.
Also, characters such as those that can be obtained
with \TeX can be written with this command.
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
 print ~x ~y ~''$text$'' [$th$]\\
 printc ~x ~y ~''$text$'' [$th$]
\end{minipage}
\begin{minipage}[t]{9cm}
This command writes $text$ in the assigned position (x ~y).
The option $th$ assigned the rotation degree.

\begin{tabular}{cc}
\epsffile{fig/fig-print1.eps}&  
\epsffile{fig/fig-print2.eps}\\
print&printc
\end{tabular}p
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
title ~x ~y ~''$text$'' [$th$]\\
titlec ~x ~y ~''$text$'' [$th$]
\end{minipage}
\begin{minipage}[t]{9cm}
This command is same as print(c).
However, the basic unit is expressed in absolute value mm.
The reference point is on the botton-left.
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
csize ~h [w]
\end{minipage}
\begin{minipage}[t]{9cm}
This command assigns in mm the character width and height,
to be used in the following commands:\\
x/yscale，x/yname，print/c，title/c\\
When the value of $w$ is omitted, $w$ is made equal to $h$.
The default values for the option --{\bf s} follows:
\begin{tabular}{ccc}

--{\bf s} &w &h  \\ \hline
1 &2.5 &2.2\\
2&5&2.6\\
3&2.5&4.4\\
4&5&4.4
\end{tabular}\\

\end{minipage}\\

\begin{minipage}[t]{5.5cm}
 pen ~$penno$
\end{minipage}
\begin{minipage}[t]{9cm}
This command chooses the variable $penno$.
1≦$penno$≦10.   %????????????????????????????????????????????
Please refer to appendix.
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
line ~$ltype$ [$lpt$]
\end{minipage}
\begin{minipage}[t]{9cm}
This command assigns the type $ltype$ of the line which will connect
data as well as the $lpt$ pace. $lpt$ is on mm unit.
When $ltype$=0: no line is used to connect coordinate points.
1:~solid~~2:~dotted~~3:~dot and dash~~4:~broken~~5:~dash
Please refer to the appendix.\\
	
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
xgrid ~$x_1$ ~$x_2$ ~$\cdots$\\
ygrid ~$y_1$ ~$y_2$ ~$\cdots$
\end{minipage}
\begin{minipage}[t]{9cm}
$x_1$ $x_2$ $\cdots$， $y_1$ $y_2$ $\cdots$ の位置に，それぞれ縦と横のグリッド
を引きます．\\
(例)\\
\begin{minipage}[t]{4.3cm}
 \epsfxsize=4cm
 \epsffile{fig/grid.eps}
\end{minipage}
\begin{minipage}[b]{4.5cm}
\baselineskip 5pt
x 0 5\\
y 0 6\\
xscale 0 1 2 3 4 5\\
yscale 0 2 4 6

\vspace{3mm}
xgrid 1 2 3 4\\
ygrid 2 4
\vspace*{1cm}
\end{minipage}
\end{minipage}\\


\begin{minipage}[t]{5.5cm}
mark ~$label$ [$th$]
\end{minipage}
\begin{minipage}[t]{9cm}
データ行で与えられる座標に文字列 $label$ を書きます．
$th$ は文字列を書く角度(deg)です．
$label$ に $\backslash 0$ を指定すると解除します．
マーク，特殊文字の書き方はデータ行の $label$ 項を参照して下さい．
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
hight ~$h$ [$w$]\\
italic ~$th$
\end{minipage}
\begin{minipage}[t]{9cm}
データ行で$label$ を指定した場合に書く文字の大きさ $h$(mm)，間隔 $w$(mm)
とイタリック指定 $th$(deg)をします． 
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
circle ~x ~y ~$r_1$ ~$r_2$ ~$\cdots$\\
xcircle ~x ~y ~$r_1$ ~$r_2$ ~$\cdots$\\
ycircle ~x ~y ~$r_1$ ~$r_2$ ~$\cdots$

\end{minipage}
\begin{minipage}[t]{9cm}
(x~ y)を中心とし半径が$r_1$ ~$r_2$ ~$\cdots$ の円を描きます．
但し，$r_x$ の単位はcircleはmm，xcircleはグラフの $x$ スケール，ycircleはグラフ
の $y$ スケールです．\\

(例)\\
\begin{minipage}[t]{4.3cm}
 \epsfxsize=4cm
 \epsffile{fig/circle.eps}
\end{minipage}
\begin{minipage}[b]{4.5cm}
\baselineskip 5pt
x 0 5\\
y 0 20\\
xscale 0 5\\
yscale 0 20

\vspace*{3mm}
xcircle 3 10 1 2\\
ycircle 1 3 1 2\\
circle  1.5 15 13\\
\vspace*{7mm}
\end{minipage}
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
box ~$x_0$ $y_0$ $x_1$ ~$y_1$ [~$x_2$ $y_2$ $\cdots$ ]\\
paint ~$type$
\end{minipage}
\begin{minipage}[t]{9cm}
 ($x_0$ $y_0$)，($x_1$ $y_1$)を結ぶ直線を対角線とする長方形を paintで指定
された $type$で描きます．
但し，~$x_2$ $y_2$ $\cdots$ が指定された場合， ($x_0$ $y_0$),($x_1$ $y_1$),
($x_2$ $y_2$),$\cdots$ を結ぶ多角形を描きます(paintは $type$ 1 以外指定しない
で下さい)．
paint のデフォルトは1です．\\

(例)\\
\begin{minipage}[t]{4.3cm}
 \epsfxsize=4cm
 \epsffile{fig/box.eps}
\end{minipage}
\begin{minipage}[b]{4.5cm}
\baselineskip 5pt
x 0 10\\
y 0 10\\
xscale 0 10\\
yscale 0 10

\vspace*{3mm}
paint 18\\
box 2.5 0 3.5 6\\
paint -18 \\
box 4 0 5 8\\
paint 1\\
box  2 2 8 8 8 2 4 7
\end{minipage}
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
clip ~$x_0$ $y_0$ $x_1$ ~$y_1$ 
\end{minipage}
\begin{minipage}[t]{9cm}
  ($x_0$ $y_0$)，($x_1$ $y_1$)を結ぶ直線を対角線とする長方形の範囲の中だけ
描きます．
  ($x_0$ $y_0$)，($x_1$ $y_1$)が省略された時，clipを解除します．\\

(例)\\
\begin{minipage}[t]{4.3cm}
 \epsfxsize=4cm
 \epsffile{fig/clip.eps}
\end{minipage}
\begin{minipage}[b]{4.5cm}
\baselineskip 5pt
x 0 10\\
y 0 10\\
xscale 0 10\\
yscale 0 10

\vspace*{3mm}
clip 2 3 9 7\\
paint 18\\
box 2.5 0 3.5 6\\
paint -18 \\
box 4 0 5 8\\
paint 1\\
box  2 2 8 8 8 2 4 7
\end{minipage}
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
\# any commet
\end{minipage}
\begin{minipage}[t]{9cm}
 コメント行です．動作に影響を及ぼしません．
\end{minipage}\\
\end{qsection}

\begin{qsection}{\ ~~~データ行}
\begin{minipage}[t]{5.5cm}
 x ~y [$label$~ [$th$]]
\end{minipage}
\begin{minipage}[t]{9cm}
(x ~y)座標は，コマンド行 x, y で指定された数値でスケーリングされます．
$label$ の位置に文字列を書くと，その文字列が(x ~y)の位置に書かれます．
$label$ は空白文字を含んではいけません．
コマンド行 mark で$label$が指定されている場合は，この座標に限り指定の$label$
に置き換わります．$th$は角度を与えます．\\
$label$ 文字列に ~$\backslash n$ ~~$0≦n≦15$ を指定すると，対応する番号の
マークを描きます(マークの種類は付録を参照して下さい)．
マーク番号に-- (マイナス)を付けると，マークの中心を線で結びます．
通常は，マークと線が重ならないように描きます．\\
$n=16(\backslash 16)$ で コマンド行 hight で指定された h を直径とする小円を
描きます．
また， $n>32$ で指定コード番号のASCII文字または特殊文字を描きます．
\end{minipage}\\

\begin{minipage}[t]{5.5cm}
 eod\\
EOD
\end{minipage}
\begin{minipage}[t]{9cm}
 データの区切りです．この前後の座標間には線を引きません．
\end{minipage}
\end{qsection}
\newpage
\begin{qsection}{付録}
{\large \hspace{-1.5ex}$\bullet$ mark 又はデータ行で $label$ が指定された場合
に出力されるマーク:}

\begin{center}
\leavevmode
\epsfxsize=12cm
\epsffile{fig/mark.eps} \\
\end{center}


{\large \hspace{-1.5ex}$\bullet$ pen と line のタイプ:}\\
\hspace{3mm}[psgrで出力した場合]

\leavevmode
\epsffile{fig/pen-line.eps} \\

(注)~~ penのタイプは出力するプリンタに依存します．(このページを出力してみて
下さい)\\
\newpage
[xgr で出力した場合]\\
下表に示す色で表示されます．\\

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
 \hline
 penタイプ& 1& 2& 3& 4& 5& 6& 7& 8& 9&10  \\ \hline
 色& 黒& 青& 赤& 緑& ピンク& オレンジ& エメラルド& 灰 &茶 & 紺 
 \\ \hline
\end{tabular}\\
\end{center}

\vspace{5mm}
{\large \hspace{-1.5ex}$\bullet$ paintのタイプ:}\\
\epsffile{fig/paint.eps}\\
(注)~~~$1 \sim 3$ は枠のみ，$-9 , -19$ は枠無しの白です．

\end{qsection}
