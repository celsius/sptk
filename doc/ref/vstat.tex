\name{vstat}{ベクトルの平均，共分散を求める}{none}

\begin{synopsis}
\item[vstat] [ --l $L$ ] [ --n $N$ ] [ --t $T$ ] [ --d ] [ --o $O$] [ {\em infile} ]
\end{synopsis}

\begin{qsection}{DESCRIPTION}
指定されたファイルから読み込まれた $L$ 次元ベクトルの平均ベクトルおよび
共分散行列を $N$ 個毎に求め，標準出力に出力します．
つまり，入力データ
\begin{displaymath}
\overbrace{
  \overbrace{x_1(1),\ldots,x_1(L)}^{L},
  \overbrace{x_2(1),\ldots,x_2(L)}^{L},\ldots,
  \overbrace{x_N(1),\ldots,x_N(L)}^{L}
}^{N \times L},\ldots
\end{displaymath}
から，
\begin{displaymath}
  \overbrace{m(1),\ldots,m(L)}^L, 
  \overbrace{
    \overbrace{U(11),\ldots,U(1L)}^L, \ldots
    \overbrace{U(L1),\ldots,U(LL)}^L
  }^{L\times L}, \ldots
\end{displaymath}
が出力されます．
{\boldmath $m$}，{\boldmath $U$} はそれぞれ，
\begin{displaymath}
  \mbox{\boldmath $m$} = \frac{1}{N}\sum_{k=1}^{N} \mbox{\boldmath $x$}
\end{displaymath}
\begin{displaymath}
  \mbox{\boldmath $U$} = \frac{1}{N}\sum_{k=1}^{N}
	\mbox{\boldmath $x$} \mbox{\boldmath $x$}^T
	- \mbox{\boldmath $m$} \mbox{\boldmath $m$}^T
\end{displaymath}
で計算されます．
ただし，対角共分散の場合は非対角成分は出力されません．

ファイルが指定されなかった場合，データは標準入力から読み込まれます．

データ形式は入力、出力ともfloat 形式です。
\end{qsection}

\begin{options}
	\argm{l}{L}{ベクトルの長さ．}{1}
	\argm{n}{N}{ベクトルの次数．}{L-1}
	\argm{t}{T}{和をとるベクトルの個数．}{N/A}
	\argm{d}{}{対角共分散のみ出力}{FALSE}
	\argm{o}{O}{出力のフォーマット．\\
		\begin{tabular}{ll} \\[-1zh]
                        $O=0$ & 平均ベクトルおよび共分散行列 \\
                        $O=1$ & 平均ベクトルのみ \\
                        $O=2$ & 共分散行列のみ \\[1zh]
                \end{tabular}\\\hspace*{\fill}}{0}
\end{options}

\begin{qsection}{EXAMPLE}
float形式のファイル{\em data.f}全体の平均および分散を求め，{\em data.stat}に出力する:
\begin{quote}
  \verb!vstat data.f > data.stat!
\end{quote}

次元15次の係数ベクトルのとなり合う3フレームの平均を求め{\em data.av}に出力する:
\begin{quote}
  \verb!vstat -l 15 -t 3 -o 1 data.f > data.av!
\end{quote}
\end{qsection}

\begin{qsection}{SEE ALSO}
  average, vsum
\end{qsection}
